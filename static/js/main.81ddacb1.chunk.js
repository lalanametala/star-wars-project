(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.37da0be5.svg"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Star_Wars_original_opening_crawl_1977.4d642cf9.mp3"},,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(13),c=a.n(l),o=(a(22),a(11)),u=a(4),i=a(2),s=a(14),m=a(9),d=Object(n.createContext)(),f=["Name","Rotation Period","Orbital Period","Diameter","Climate","Gravity","Terrain","Surface Water","Population","Films","Created","Edited","URL"],E=["population","orbital_period","diameter","rotation_period","surface_water"],p=function(e,t){return e.name>t.name?1:e.name<t.name?-1:0},b=function(e,t){return+e.value>+t.value?1:+e.value<+t.value?-1:0},v=function(e,t){return+e.value<+t.value?1:+e.value>+t.value?-1:0},O=function(e){var t=e.split("_");return 1===t.length?t[0]:"".concat(t[0]," ").concat(t[1])};a(23);var N=function(e){var t=e.pageRefs,a=Object(n.useContext)(d),l=a.nameFilter,c=a.setNameFilter,f=a.newNumericFilter,p=a.numericFilters,b=a.removeNumericFilter,v=a.setNumericFilters,N=Object(n.useState)("population"),h=Object(i.a)(N,2),j=h[0],g=h[1],S=Object(n.useState)("maior que"),C=Object(i.a)(S,2),y=C[0],x=C[1],T=Object(n.useState)(0),k=Object(i.a)(T,2),w=k[0],A=k[1],F=Object(n.useState)(E),R=Object(i.a)(F,2),L=R[0],_=R[1],D=function(e){var t=e.target,a=t.value,n=t.name;"name-filter"===n&&c(a),"filter-num-value"===n&&A(a)},I=function(e){var t=e.target,a=t.value,n=t.name;"column"===n&&g(a),"comparison"===n&&x(a)},q=function(e){var t=e.currentTarget.name;_([].concat(Object(u.a)(L),[t])),b(t)};return r.a.createElement("div",{className:"filters-div"},r.a.createElement("h1",{ref:function(e){t.current=Object(o.a)(Object(o.a)({},t.current),{},{filters:e})}},"STAR WARS PLANETS"),r.a.createElement("input",{onChange:D,name:"name-filter",className:"name-filter",value:l,"data-testid":"name-filter",placeholder:"PLANET NAME"}),r.a.createElement("fieldset",{className:"filters-form"},r.a.createElement("legend",null,"FILTERS"),r.a.createElement("form",{className:"non-name-filters"},r.a.createElement("label",{className:"filter-label",htmlFor:"column"},"COLUMN",r.a.createElement("select",{value:j,"data-testid":"column-filter",onChange:I,name:"column"},L.map((function(e){return r.a.createElement("option",{key:e,value:e},O(e))})))),r.a.createElement("label",{className:"filter-label",htmlFor:"comparison"},"COMPARISON",r.a.createElement("select",{"data-testid":"comparison-filter",onChange:I,value:y,name:"comparison"},r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:"maior que"},"GREATER THAN"),r.a.createElement("option",{value:"menor que"},"LESS THAN"),r.a.createElement("option",{value:"igual a"},"EQUAL TO")))),r.a.createElement("label",{className:"filter-label",htmlFor:"filter-num-value"},"VALUE",r.a.createElement("input",{"data-testid":"value-filter",type:"number",name:"filter-num-value",value:w,onChange:D})),r.a.createElement("button",{type:"button",onClick:function(){var e=L.filter((function(e){return e!==j}));_(e),g(e[0]),f({column:j,comparison:y,value:w})},"data-testid":"button-filter",disabled:L.length<=0},r.a.createElement(m.a,null),"FILTER"),r.a.createElement("button",{type:"button",onClick:function(){v([])},"data-testid":"button-remove-filters"},r.a.createElement(m.b,null),"REMOVE FILTERS")),p.length>0&&p.map((function(e){var t=e.column,a=e.comparison,n=e.value;return r.a.createElement("div",{"data-testid":"filter",className:"added-filter",key:"".concat(t,"Filter")},r.a.createElement("p",null,"".concat(O(t)," ").concat(function(e){switch(e){case"maior que":return"GREATER THAN";case"menor que":return"LESS THAN";default:return"EQUAL TO"}}(a)," ").concat(n)),r.a.createElement("button",{type:"button",name:t,onClick:q},r.a.createElement(s.a,{className:"trash-icon",id:t})))}))))},h=a(16),j=a(10),g=a(7),S=a.n(g),C=a(15),y=a.n(C);a(24);var x=function(e){var t=e.pageRefs,a=Object(n.useState)(new Audio(y.a)),l=Object(i.a)(a,1)[0],c=Object(n.useState)(!0),o=Object(i.a)(c,2),u=o[0],s=o[1];return Object(n.useEffect)((function(){l.play()}),[l]),r.a.createElement("header",null,r.a.createElement("button",{type:"button",className:"table-focus",onClick:function(){t.current.filters.scrollIntoView({behavior:"smooth"})},title:"Ir para a aplica\xe7\xe3o"},r.a.createElement(h.a,null)),r.a.createElement("section",{className:"logo"},r.a.createElement("img",{src:S.a,alt:"star wars logo"})),r.a.createElement("button",{type:"button",onClick:function(){u?l.pause():l.play(),s(!u)},className:"music-btn",title:"Sound On/Off"},u?r.a.createElement(j.a,null):r.a.createElement(j.b,null)))};a(25);var T=function(){var e=Object(n.useContext)(d).setOrder,t=Object(n.useState)("population"),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("ASC"),u=Object(i.a)(o,2),s=u[0],m=u[1],f=function(e){var t=e.target.value;m(t)};return r.a.createElement("fieldset",{className:"sort-fieldset"},r.a.createElement("legend",null,"SORT"),r.a.createElement("form",{className:"sort-form"},r.a.createElement("label",{htmlFor:"column-sort",className:"filter-label"},"COLUMN",r.a.createElement("select",{value:l,"data-testid":"column-sort",onChange:function(e){var t=e.target.value;c(t)}},E.map((function(e){return r.a.createElement("option",{key:"sort-".concat(e),value:e},O(e))})))),r.a.createElement("div",null,r.a.createElement("div",{className:"radio-outer-container"},r.a.createElement("div",{className:"filter-label"},"ORDER"),r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",{htmlFor:"sort-asc",className:"rad-label"},r.a.createElement("input",{"data-testid":"column-sort-input-asc",type:"radio",id:"sort-asc",name:"sort-asc",value:"ASC",className:"rad-input",checked:"ASC"===s,onChange:f}),r.a.createElement("div",{className:"rad-design"}),r.a.createElement("div",{className:"rad-text"},"ASCENDENT")),r.a.createElement("label",{htmlFor:"sort-desc",className:"rad-label"},r.a.createElement("input",{"data-testid":"column-sort-input-desc",type:"radio",id:"sort-desc",name:"sort-desc",value:"DESC",className:"rad-input",checked:"DESC"===s,onChange:f}),r.a.createElement("div",{className:"rad-design"}),r.a.createElement("div",{className:"rad-text"},"DESCENDENT")))))),r.a.createElement("button",{type:"button",onClick:function(){e({column:l,sort:s})},"data-testid":"column-sort-button"},"SORT"))};a(26);var k=function(){var e=Object(n.useContext)(d).data;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,f.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,e.map((function(e){var t=e.name,a=e.rotation_period,n=e.orbital_period,l=e.diameter,c=e.climate,o=e.gravity,u=e.terrain,i=e.surface_water,s=e.population,m=e.films,d=e.created,f=e.edited,E=e.url;return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-testid":"planet-name"},t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,u),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,m),r.a.createElement("td",null,d),r.a.createElement("td",null,f),r.a.createElement("td",null,E))})))))};a(27);var w=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){l(!1)}),2e3);return function(){return clearTimeout(e)}}),[]),r.a.createElement("section",{className:"welcome"},a&&r.a.createElement("h1",{className:"intro-text"},"A Long Time Ago, in a galaxy far,",r.a.createElement("br",null)," ","far away\u2026"),r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:S.a,alt:"star wars logo"})),r.a.createElement("div",{className:"text-board"},r.a.createElement("div",{className:"text-content"},r.a.createElement("p",{className:"text-title"},"Episode XV"),r.a.createElement("p",{className:"text-subtitle"},"REACT HOOKS"),r.a.createElement("br",null),r.a.createElement("p",null,"Turmoil has engulfed the Galactic Empire as Lal\xe1 Nametala keeps on studying to become a master in her trade."),r.a.createElement("p",null,"In her quest for knowledge, Lal\xe1 has developed this application applying\n            the subjects from Block XV at Trybe's Web Development course:\n            Context API and Hooks."),r.a.createElement("p",null,"This ultimate application lists and filters planets from the Galactic Empire."),r.a.createElement("p",null,"This future Web Developer heads to the BackEnd module hoping to learn its hidden trades and restore freedom to the galaxy\u2026."))))},A=a(3),F=a.n(A),R=a(8),L=function(){var e=Object(R.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var _=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),f=m[0],E=m[1],O=Object(n.useState)(""),N=Object(i.a)(O,2),h=N[0],j=N[1],g=Object(n.useState)([]),S=Object(i.a)(g,2),C=S[0],y=S[1],x=Object(n.useState)({}),T=Object(i.a)(x,2),k=T[0],w=T[1],A=Object(n.useState)([]),_=Object(i.a)(A,2),D=_[0],I=_[1];return Object(n.useEffect)((function(){(function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:(t=e.sent).sort(p),o(t),I(t),E(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){!function(){var e=[],t=h.toLowerCase();e=0!==C.length?C.reduce((function(e,t,a){var n=t.column,r=t.comparison,l=t.value,c=function(e){var t=Number(e[n]);return"maior que"===r?t>l:"menor que"===r?t<l:t===Number(l)};return 0===a?e=f.filter(c):e.filter(c)}),[]).filter((function(e){return e.name.toLowerCase().includes(t)})):f.filter((function(e){return e.name.toLowerCase().includes(t)})),o(e),I(e)}()}),[h,C,f]),Object(n.useEffect)((function(){o(function(){var e=k.column,t=k.sort,a=D.map((function(t,a){return{value:t[e],index:a}}));"ASC"===t&&a.sort(b),"DESC"===t&&a.sort(v);var n=a.map((function(e){var t=e.index;return D[t]})),r=n.filter((function(t){return"unknown"!==t[e]})),l=n.filter((function(t){return"unknown"===t[e]}));return[].concat(Object(u.a)(r),Object(u.a)(l))}())}),[D,k]),r.a.createElement(d.Provider,{value:{data:c,setNameFilter:j,newNumericFilter:function(e){y([].concat(Object(u.a)(C),[e]))},numericFilters:C,removeNumericFilter:function(e){var t=C.filter((function(t){return t.column!==e}));y(t)},setNumericFilters:y,setOrder:w}},t)};var D=function(){var e=Object(n.useRef)({});return r.a.createElement(_,null,r.a.createElement(x,{pageRefs:e}),r.a.createElement(w,null),r.a.createElement("main",null,r.a.createElement(N,{pageRefs:e}),r.a.createElement(T,null),r.a.createElement(k,null)))};a(29);c.a.render(r.a.createElement(D,{className:"app"}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.81ddacb1.chunk.js.map